nohup: ignoring input
[backfill] Running projections for 2025-11-01 to 2025-11-30 (30 days)
[backfill] Using 10,000 worlds per day

===========================================
[backfill] [1/30] Processing 2025-11-01
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-01->2025-11-01 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-01 to 2025-11-01 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-01: 1041 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-01/injuries.parquet
[injuries] window=2025-11-01->2025-11-01 bronze_partitions=1 bronze_rows=1041 silver_rows=50 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-01 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-01/daily_lineups_raw.parquet and silver_rows=211 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-01/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-01: 4 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-01/odds.parquet
[odds] wrote 6 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 211 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-01: 213 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-01/roster.parquet
[roster] wrote 213 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 480,520)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-01 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T052730Z wrote 213 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-01/run=20251207T052730Z/features.parquet
[live] Scoring model with run_id=20251207T052730Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-01: wrote 213 rows to artifacts/minutes_v1/daily/2025-11-01/run=20251207T052730Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-01
[live] scoring FPTS for 2025-11-01 using production bundle (minutes_run=20251207T052730Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-01/run=20251207T052730Z/features.parquet
[rates-live] Found 213 players, 12 teams
[rates-live] Season aggregates: 158 players
[rates-live] Tracking features: 173 players
[rates-live] Vacancy features: 2 teams
[rates-live] Team context: 2 teams
[rates-live] Wrote 213 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-01/run=20251207T052730Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-01 run=20251207T052730Z: wrote 213 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-01/run=20251207T052730Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-01 run=20251207T052730Z: wrote 213 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-01/run=20251207T052730Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-01 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T052730Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x71edfac9f170>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T052730Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T052730Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-01 minutes source=projections_minutes_v1 run=20251207T052730Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-01/minutes.parquet
[sim_v2] 2025-11-01 rates run=20251207T052730Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-01/run=20251207T052730Z/rates.parquet
[sim_v2] 2025-11-01 rows=166 dk_fpts_mean (rates) min/med/max=0.00/14.84/51.01
[sim_v2] game_scripts: 6 games, using minutes quantile sampling
[sim_v2] 2025-11-01 dk_fpts_world min/med/max=-0.18/14.83/192.20 mean=17.49 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-01/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-01/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-01/run=20251207T052730Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19635113833666182, 'row_count': 213}

Rates sanity check passed!

===========================================
[backfill] [2/30] Processing 2025-11-02
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-02->2025-11-02 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-02 to 2025-11-02 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-02: 1476 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-02/injuries.parquet
[injuries] window=2025-11-02->2025-11-02 bronze_partitions=1 bronze_rows=1476 silver_rows=75 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-02 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-02/daily_lineups_raw.parquet and silver_rows=280 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-02/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-02: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-02/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 280 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-02: 279 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-02/roster.parquet
[roster] wrote 279 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 480,799)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-02 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T052757Z wrote 279 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-02/run=20251207T052757Z/features.parquet
[live] Scoring model with run_id=20251207T052757Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-02: wrote 279 rows to artifacts/minutes_v1/daily/2025-11-02/run=20251207T052757Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-02
[live] scoring FPTS for 2025-11-02 using production bundle (minutes_run=20251207T052757Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-02/run=20251207T052757Z/features.parquet
[rates-live] Found 279 players, 16 teams
[rates-live] Season aggregates: 207 players
[rates-live] Tracking features: 216 players
[rates-live] Vacancy features: 1 teams
[rates-live] Team context: 1 teams
[rates-live] Wrote 279 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-02/run=20251207T052757Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-02 run=20251207T052757Z: wrote 279 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-02/run=20251207T052757Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-02 run=20251207T052757Z: wrote 279 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-02/run=20251207T052757Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-02 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T052757Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x79efe84b7590>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T052757Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T052757Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-02 minutes source=projections_minutes_v1 run=20251207T052757Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-02/minutes.parquet
[sim_v2] 2025-11-02 rates run=20251207T052757Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-02/run=20251207T052757Z/rates.parquet
[sim_v2] 2025-11-02 rows=204 dk_fpts_mean (rates) min/med/max=0.00/16.29/54.67
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-02 dk_fpts_world min/med/max=-1.29/16.04/326.27 mean=18.56 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-02/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-02/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-02/run=20251207T052757Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19980924947101275, 'row_count': 279}

Rates sanity check passed!

===========================================
[backfill] [3/30] Processing 2025-11-02
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-02->2025-11-02 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-02 to 2025-11-02 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-02: 1476 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-02/injuries.parquet
[injuries] window=2025-11-02->2025-11-02 bronze_partitions=1 bronze_rows=1476 silver_rows=75 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-02 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-02/daily_lineups_raw.parquet and silver_rows=280 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-02/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-02: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-02/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 280 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-02: 279 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-02/roster.parquet
[roster] wrote 279 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 480,799)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-02 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T052821Z wrote 279 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-02/run=20251207T052821Z/features.parquet
[live] Scoring model with run_id=20251207T052821Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-02: wrote 279 rows to artifacts/minutes_v1/daily/2025-11-02/run=20251207T052821Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-02
[live] scoring FPTS for 2025-11-02 using production bundle (minutes_run=20251207T052821Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-02/run=20251207T052821Z/features.parquet
[rates-live] Found 279 players, 16 teams
[rates-live] Season aggregates: 207 players
[rates-live] Tracking features: 216 players
[rates-live] Vacancy features: 1 teams
[rates-live] Team context: 1 teams
[rates-live] Wrote 279 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-02/run=20251207T052821Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-02 run=20251207T052821Z: wrote 279 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-02/run=20251207T052821Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-02 run=20251207T052821Z: wrote 279 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-02/run=20251207T052821Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-02 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T052821Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x729fcf99f260>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T052821Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T052821Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-02 minutes source=projections_minutes_v1 run=20251207T052821Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-02/minutes.parquet
[sim_v2] 2025-11-02 rates run=20251207T052821Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-02/run=20251207T052821Z/rates.parquet
[sim_v2] 2025-11-02 rows=204 dk_fpts_mean (rates) min/med/max=0.00/16.29/54.67
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-02 dk_fpts_world min/med/max=-1.29/16.04/326.27 mean=18.56 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-02/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-02/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-02/run=20251207T052821Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19980924947101275, 'row_count': 279}

Rates sanity check passed!

===========================================
[backfill] [4/30] Processing 2025-11-03
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-03->2025-11-03 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-03 to 2025-11-03 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-03: 1347 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-03/injuries.parquet
[injuries] window=2025-11-03->2025-11-03 bronze_partitions=1 bronze_rows=1347 silver_rows=85 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-03 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-03/daily_lineups_raw.parquet and silver_rows=316 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-03/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-03: 3 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-03/odds.parquet
[odds] wrote 9 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 316 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-03: 316 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-03/roster.parquet
[roster] wrote 316 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 481,115)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-03 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T052847Z wrote 316 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-03/run=20251207T052847Z/features.parquet
[live] Scoring model with run_id=20251207T052847Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-03: wrote 316 rows to artifacts/minutes_v1/daily/2025-11-03/run=20251207T052847Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-03
[live] scoring FPTS for 2025-11-03 using production bundle (minutes_run=20251207T052847Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-03/run=20251207T052847Z/features.parquet
[rates-live] Found 316 players, 18 teams
[rates-live] Season aggregates: 250 players
[rates-live] Tracking features: 263 players
[rates-live] Vacancy features: 6 teams
[rates-live] Team context: 6 teams
[rates-live] Wrote 316 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-03/run=20251207T052847Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-03 run=20251207T052847Z: wrote 316 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-03/run=20251207T052847Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-03 run=20251207T052847Z: wrote 316 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-03/run=20251207T052847Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-03 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T052847Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x70626ffad790>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T052847Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T052847Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-03 minutes source=projections_minutes_v1 run=20251207T052847Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-03/minutes.parquet
[sim_v2] 2025-11-03 rates run=20251207T052847Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-03/run=20251207T052847Z/rates.parquet
[sim_v2] 2025-11-03 rows=241 dk_fpts_mean (rates) min/med/max=0.00/15.73/49.75
[sim_v2] game_scripts: 9 games, using minutes quantile sampling
[sim_v2] 2025-11-03 dk_fpts_world min/med/max=-1.40/15.74/197.99 mean=17.95 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-03/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-03/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-03/run=20251207T052847Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.21367024892452927, 'row_count': 316}

Rates sanity check passed!

===========================================
[backfill] [5/30] Processing 2025-11-04
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-04->2025-11-04 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-04 to 2025-11-04 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-04: 1173 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-04/injuries.parquet
[injuries] window=2025-11-04->2025-11-04 bronze_partitions=1 bronze_rows=1173 silver_rows=54 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-04 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-04/daily_lineups_raw.parquet and silver_rows=209 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-04/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] wrote 6 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 209 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-04: 210 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-04/roster.parquet
[roster] wrote 210 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 481,325)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-04 03:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T052914Z wrote 210 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-04/run=20251207T052914Z/features.parquet
[live] Scoring model with run_id=20251207T052914Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-04: wrote 210 rows to artifacts/minutes_v1/daily/2025-11-04/run=20251207T052914Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-04
[live] scoring FPTS for 2025-11-04 using production bundle (minutes_run=20251207T052914Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-04/run=20251207T052914Z/features.parquet
[rates-live] Found 210 players, 12 teams
[rates-live] Season aggregates: 170 players
[rates-live] Tracking features: 174 players
[rates-live] Vacancy features: 2 teams
[rates-live] Team context: 2 teams
[rates-live] Wrote 210 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-04/run=20251207T052914Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-04 run=20251207T052914Z: wrote 210 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-04/run=20251207T052914Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-04 run=20251207T052914Z: wrote 210 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-04/run=20251207T052914Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-04 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T052914Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7b12f92ab0b0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T052914Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T052914Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-04 minutes source=projections_minutes_v1 run=20251207T052914Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-04/minutes.parquet
[sim_v2] 2025-11-04 rates run=20251207T052914Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-04/run=20251207T052914Z/rates.parquet
[sim_v2] 2025-11-04 rows=155 dk_fpts_mean (rates) min/med/max=0.00/15.81/47.42
[sim_v2] game_scripts: 6 games, using minutes quantile sampling
[sim_v2] 2025-11-04 dk_fpts_world min/med/max=0.00/16.00/181.36 mean=18.54 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-04/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-04/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-04/run=20251207T052914Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20812154151666679, 'row_count': 210}

Rates sanity check passed!

===========================================
[backfill] [6/30] Processing 2025-11-05
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-05->2025-11-05 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-05 to 2025-11-05 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-05: 1960 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-05/injuries.parquet
[injuries] window=2025-11-05->2025-11-05 bronze_partitions=1 bronze_rows=1960 silver_rows=120 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-05 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-05/daily_lineups_raw.parquet and silver_rows=387 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-05/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-05: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-05/odds.parquet
[odds] wrote 11 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 387 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-05: 387 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-05/roster.parquet
[roster] wrote 387 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 481,712)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-05 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T052941Z wrote 387 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-05/run=20251207T052941Z/features.parquet
[live] Scoring model with run_id=20251207T052941Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-05: wrote 387 rows to artifacts/minutes_v1/daily/2025-11-05/run=20251207T052941Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-05
[live] scoring FPTS for 2025-11-05 using production bundle (minutes_run=20251207T052941Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-05/run=20251207T052941Z/features.parquet
[rates-live] Found 387 players, 22 teams
[rates-live] Season aggregates: 308 players
[rates-live] Tracking features: 320 players
[rates-live] Vacancy features: 4 teams
[rates-live] Team context: 4 teams
[rates-live] Wrote 387 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-05/run=20251207T052941Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-05 run=20251207T052941Z: wrote 387 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-05/run=20251207T052941Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-05 run=20251207T052941Z: wrote 387 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-05/run=20251207T052941Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-05 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T052941Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x79a7bcea1580>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T052941Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T052941Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-05 minutes source=projections_minutes_v1 run=20251207T052941Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-05/minutes.parquet
[sim_v2] 2025-11-05 rates run=20251207T052941Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-05/run=20251207T052941Z/rates.parquet
[sim_v2] 2025-11-05 rows=278 dk_fpts_mean (rates) min/med/max=0.00/15.77/53.40
[sim_v2] game_scripts: 11 games, using minutes quantile sampling
[sim_v2] 2025-11-05 dk_fpts_world min/med/max=-0.22/16.25/298.94 mean=18.82 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-05/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-05/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-05/run=20251207T052941Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.21147679023403804, 'row_count': 387}

Rates sanity check passed!

===========================================
[backfill] [7/30] Processing 2025-11-06
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-06->2025-11-06 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-06 to 2025-11-06 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-06: 452 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-06/injuries.parquet
[injuries] window=2025-11-06->2025-11-06 bronze_partitions=1 bronze_rows=452 silver_rows=9 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-06 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-06/daily_lineups_raw.parquet and silver_rows=34 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-06/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] wrote 1 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 34 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-06: 34 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-06/roster.parquet
[roster] wrote 34 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 481,991)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-06 02:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053009Z wrote 34 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-06/run=20251207T053009Z/features.parquet
[live] Scoring model with run_id=20251207T053009Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-06: wrote 34 rows to artifacts/minutes_v1/daily/2025-11-06/run=20251207T053009Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-06
[live] scoring FPTS for 2025-11-06 using production bundle (minutes_run=20251207T053009Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-06/run=20251207T053009Z/features.parquet
[rates-live] Found 34 players, 2 teams
[rates-live] Season aggregates: 31 players
[rates-live] Tracking features: 31 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 34 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-06/run=20251207T053009Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-06 run=20251207T053009Z: wrote 34 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-06/run=20251207T053009Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-06 run=20251207T053009Z: wrote 34 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-06/run=20251207T053009Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-06 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053009Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7f6b504b7110>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053009Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053009Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-06 minutes source=projections_minutes_v1 run=20251207T053009Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-06/minutes.parquet
[sim_v2] 2025-11-06 rates run=20251207T053009Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-06/run=20251207T053009Z/rates.parquet
[sim_v2] 2025-11-06 rows=27 dk_fpts_mean (rates) min/med/max=0.00/16.14/44.28
[sim_v2] game_scripts: 1 games, using minutes quantile sampling
[sim_v2] 2025-11-06 dk_fpts_world min/med/max=0.00/15.14/191.91 mean=16.63 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-06/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-06/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-06/run=20251207T053009Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20899590598173007, 'row_count': 34}

Rates sanity check passed!

===========================================
[backfill] [8/30] Processing 2025-11-07
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-07->2025-11-07 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-07 to 2025-11-07 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-07: 2189 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-07/injuries.parquet
[injuries] window=2025-11-07->2025-11-07 bronze_partitions=1 bronze_rows=2189 silver_rows=112 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-07 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-07/daily_lineups_raw.parquet and silver_rows=385 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-07/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-07: 2 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-07/odds.parquet
[odds] wrote 11 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 385 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-07: 386 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-07/roster.parquet
[roster] wrote 386 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 482,377)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-07 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053036Z wrote 386 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-07/run=20251207T053036Z/features.parquet
[live] Scoring model with run_id=20251207T053036Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-07: wrote 386 rows to artifacts/minutes_v1/daily/2025-11-07/run=20251207T053036Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-07
[live] scoring FPTS for 2025-11-07 using production bundle (minutes_run=20251207T053036Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-07/run=20251207T053036Z/features.parquet
[rates-live] Found 386 players, 22 teams
[rates-live] Season aggregates: 308 players
[rates-live] Tracking features: 321 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 386 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-07/run=20251207T053036Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-07 run=20251207T053036Z: wrote 386 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-07/run=20251207T053036Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-07 run=20251207T053036Z: wrote 386 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-07/run=20251207T053036Z/fpts.parquet
terminate called without an active exception
[live] warning: FPTS scoring failed; continuing without FPTS outputs.
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-07 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053036Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7df9fe5b2d20>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053036Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053036Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-07 minutes source=projections_minutes_v1 run=20251207T053036Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-07/minutes.parquet
[sim_v2] 2025-11-07 rates run=20251207T053036Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-07/run=20251207T053036Z/rates.parquet
[sim_v2] 2025-11-07 rows=277 dk_fpts_mean (rates) min/med/max=0.00/15.67/49.37
[sim_v2] game_scripts: 11 games, using minutes quantile sampling
[sim_v2] 2025-11-07 dk_fpts_world min/med/max=-0.02/16.28/265.60 mean=18.97 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-07/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-07/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-07/run=20251207T053036Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19954449736750554, 'row_count': 386}

Rates sanity check passed!

===========================================
[backfill] [9/30] Processing 2025-11-08
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-08->2025-11-08 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-08 to 2025-11-08 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-08: 1287 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-08/injuries.parquet
[injuries] window=2025-11-08->2025-11-08 bronze_partitions=1 bronze_rows=1287 silver_rows=90 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-08 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-08/daily_lineups_raw.parquet and silver_rows=281 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-08/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-08: 2 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-08/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 281 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-08: 280 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-08/roster.parquet
[roster] wrote 280 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 482,657)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-08 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053104Z wrote 280 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-08/run=20251207T053104Z/features.parquet
[live] Scoring model with run_id=20251207T053104Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-08: wrote 280 rows to artifacts/minutes_v1/daily/2025-11-08/run=20251207T053104Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-08
[live] scoring FPTS for 2025-11-08 using production bundle (minutes_run=20251207T053104Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-08/run=20251207T053104Z/features.parquet
[rates-live] Found 280 players, 16 teams
[rates-live] Season aggregates: 233 players
[rates-live] Tracking features: 240 players
[rates-live] Vacancy features: 9 teams
[rates-live] Team context: 9 teams
[rates-live] Wrote 280 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-08/run=20251207T053104Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-08 run=20251207T053104Z: wrote 280 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-08/run=20251207T053104Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-08 run=20251207T053104Z: wrote 280 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-08/run=20251207T053104Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-08 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053104Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x70b8247b7140>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053104Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053104Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-08 minutes source=projections_minutes_v1 run=20251207T053104Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-08/minutes.parquet
[sim_v2] 2025-11-08 rates run=20251207T053104Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-08/run=20251207T053104Z/rates.parquet
[sim_v2] 2025-11-08 rows=203 dk_fpts_mean (rates) min/med/max=0.00/16.12/52.93
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-08 dk_fpts_world min/med/max=-6.83/16.26/189.59 mean=18.44 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-08/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-08/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-08/run=20251207T053104Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20634325961556568, 'row_count': 280}

Rates sanity check passed!

===========================================
[backfill] [10/30] Processing 2025-11-09
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-09->2025-11-09 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-09 to 2025-11-09 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-09: 1363 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-09/injuries.parquet
[injuries] window=2025-11-09->2025-11-09 bronze_partitions=1 bronze_rows=1363 silver_rows=67 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-09 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-09/daily_lineups_raw.parquet and silver_rows=246 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-09/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-09: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-09/odds.parquet
[odds] wrote 7 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 246 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-09: 246 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-09/roster.parquet
[roster] wrote 246 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 482,903)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-09 22:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053131Z wrote 246 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-09/run=20251207T053131Z/features.parquet
[live] Scoring model with run_id=20251207T053131Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-09: wrote 246 rows to artifacts/minutes_v1/daily/2025-11-09/run=20251207T053131Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-09
[live] scoring FPTS for 2025-11-09 using production bundle (minutes_run=20251207T053131Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-09/run=20251207T053131Z/features.parquet
[rates-live] Found 246 players, 14 teams
[rates-live] Season aggregates: 199 players
[rates-live] Tracking features: 204 players
[rates-live] Vacancy features: 2 teams
[rates-live] Team context: 2 teams
[rates-live] Wrote 246 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-09/run=20251207T053131Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-09 run=20251207T053131Z: wrote 246 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-09/run=20251207T053131Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-09 run=20251207T053131Z: wrote 246 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-09/run=20251207T053131Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-09 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053131Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x714cba4b97c0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053131Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053131Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-09 minutes source=projections_minutes_v1 run=20251207T053131Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-09/minutes.parquet
[sim_v2] 2025-11-09 rates run=20251207T053131Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-09/run=20251207T053131Z/rates.parquet
[sim_v2] 2025-11-09 rows=185 dk_fpts_mean (rates) min/med/max=0.00/16.09/52.75
[sim_v2] game_scripts: 7 games, using minutes quantile sampling
[sim_v2] 2025-11-09 dk_fpts_world min/med/max=-0.03/15.78/364.10 mean=18.14 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-09/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-09/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-09/run=20251207T053131Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19745261306627107, 'row_count': 246}

Rates sanity check passed!

===========================================
[backfill] [11/30] Processing 2025-11-10
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-10->2025-11-10 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-10 to 2025-11-10 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-10: 1538 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-10/injuries.parquet
[injuries] window=2025-11-10->2025-11-10 bronze_partitions=1 bronze_rows=1538 silver_rows=91 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-10 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-10/daily_lineups_raw.parquet and silver_rows=316 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-10/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] wrote 9 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 316 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-10: 316 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-10/roster.parquet
[roster] wrote 316 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 483,219)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-10 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053157Z wrote 316 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-10/run=20251207T053157Z/features.parquet
[live] Scoring model with run_id=20251207T053157Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-10: wrote 316 rows to artifacts/minutes_v1/daily/2025-11-10/run=20251207T053157Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-10
[live] scoring FPTS for 2025-11-10 using production bundle (minutes_run=20251207T053157Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-10/run=20251207T053157Z/features.parquet
[rates-live] Found 316 players, 18 teams
[rates-live] Season aggregates: 267 players
[rates-live] Tracking features: 273 players
[rates-live] Vacancy features: 4 teams
[rates-live] Team context: 4 teams
[rates-live] Wrote 316 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-10/run=20251207T053157Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-10 run=20251207T053157Z: wrote 316 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-10/run=20251207T053157Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-10 run=20251207T053157Z: wrote 316 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-10/run=20251207T053157Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-10 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053157Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x76b345e9d130>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053157Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053157Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-10 minutes source=projections_minutes_v1 run=20251207T053157Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-10/minutes.parquet
[sim_v2] 2025-11-10 rates run=20251207T053157Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-10/run=20251207T053157Z/rates.parquet
[sim_v2] 2025-11-10 rows=232 dk_fpts_mean (rates) min/med/max=0.00/16.23/55.61
[sim_v2] game_scripts: 9 games, using minutes quantile sampling
[sim_v2] 2025-11-10 dk_fpts_world min/med/max=-0.79/16.13/216.81 mean=18.32 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-10/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-10/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-10/run=20251207T053157Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20158986913574625, 'row_count': 316}

Rates sanity check passed!

===========================================
[backfill] [12/30] Processing 2025-11-11
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-11->2025-11-11 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-11 to 2025-11-11 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-11: 1256 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-11/injuries.parquet
[injuries] window=2025-11-11->2025-11-11 bronze_partitions=1 bronze_rows=1256 silver_rows=58 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-11 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-11/daily_lineups_raw.parquet and silver_rows=211 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-11/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] wrote 6 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 211 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-11: 211 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-11/roster.parquet
[roster] wrote 211 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 483,430)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-11 03:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053223Z wrote 211 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-11/run=20251207T053223Z/features.parquet
[live] Scoring model with run_id=20251207T053223Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-11: wrote 211 rows to artifacts/minutes_v1/daily/2025-11-11/run=20251207T053223Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-11
[live] scoring FPTS for 2025-11-11 using production bundle (minutes_run=20251207T053223Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-11/run=20251207T053223Z/features.parquet
[rates-live] Found 211 players, 12 teams
[rates-live] Season aggregates: 171 players
[rates-live] Tracking features: 174 players
[rates-live] Vacancy features: 1 teams
[rates-live] Team context: 1 teams
[rates-live] Wrote 211 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-11/run=20251207T053223Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-11 run=20251207T053223Z: wrote 211 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-11/run=20251207T053223Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-11 run=20251207T053223Z: wrote 211 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-11/run=20251207T053223Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-11 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053223Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x76742aba3170>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053223Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053223Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-11 minutes source=projections_minutes_v1 run=20251207T053223Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-11/minutes.parquet
[sim_v2] 2025-11-11 rates run=20251207T053223Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-11/run=20251207T053223Z/rates.parquet
[sim_v2] 2025-11-11 rows=151 dk_fpts_mean (rates) min/med/max=0.00/16.78/45.26
[sim_v2] game_scripts: 6 games, using minutes quantile sampling
[sim_v2] 2025-11-11 dk_fpts_world min/med/max=0.00/16.47/204.25 mean=18.74 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-11/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-11/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-11/run=20251207T053223Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19635005410852885, 'row_count': 211}

Rates sanity check passed!

===========================================
[backfill] [13/30] Processing 2025-11-12
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-12->2025-11-12 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-12 to 2025-11-12 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-12: 1976 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-12/injuries.parquet
[injuries] window=2025-11-12->2025-11-12 bronze_partitions=1 bronze_rows=1976 silver_rows=116 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-12 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-12/daily_lineups_raw.parquet and silver_rows=420 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-12/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-12: 2 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-12/odds.parquet
[odds] wrote 12 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 420 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-12: 421 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-12/roster.parquet
[roster] wrote 421 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 483,851)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-12 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053249Z wrote 421 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-12/run=20251207T053249Z/features.parquet
[live] Scoring model with run_id=20251207T053249Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-12: wrote 421 rows to artifacts/minutes_v1/daily/2025-11-12/run=20251207T053249Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-12
[live] scoring FPTS for 2025-11-12 using production bundle (minutes_run=20251207T053249Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-12/run=20251207T053249Z/features.parquet
[rates-live] Found 421 players, 24 teams
[rates-live] Season aggregates: 349 players
[rates-live] Tracking features: 356 players
[rates-live] Vacancy features: 7 teams
[rates-live] Team context: 7 teams
[rates-live] Wrote 421 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-12/run=20251207T053249Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-12 run=20251207T053249Z: wrote 421 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-12/run=20251207T053249Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-12 run=20251207T053249Z: wrote 421 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-12/run=20251207T053249Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-12 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053249Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x758dd0a991c0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053249Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053249Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-12 minutes source=projections_minutes_v1 run=20251207T053249Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-12/minutes.parquet
[sim_v2] 2025-11-12 rates run=20251207T053249Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-12/run=20251207T053249Z/rates.parquet
[sim_v2] 2025-11-12 rows=306 dk_fpts_mean (rates) min/med/max=0.00/16.34/52.63
[sim_v2] game_scripts: 12 games, using minutes quantile sampling
[sim_v2] 2025-11-12 dk_fpts_world min/med/max=-0.40/16.15/248.67 mean=18.37 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-12/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-12/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-12/run=20251207T053249Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20602591972684556, 'row_count': 421}

Rates sanity check passed!

===========================================
[backfill] [14/30] Processing 2025-11-13
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-13->2025-11-13 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-13 to 2025-11-13 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-13: 753 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-13/injuries.parquet
[injuries] window=2025-11-13->2025-11-13 bronze_partitions=1 bronze_rows=753 silver_rows=32 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-13 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-13/daily_lineups_raw.parquet and silver_rows=106 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-13/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-13: 1 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-13/odds.parquet
[odds] wrote 3 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 106 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-13: 105 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-13/roster.parquet
[roster] wrote 105 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 483,956)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-13 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053318Z wrote 105 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-13/run=20251207T053318Z/features.parquet
[live] Scoring model with run_id=20251207T053318Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
L2 reconciliation infeasible for team 1610612739 (target=240.0, bounds=[32.0, 233.1]).
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-13: wrote 105 rows to artifacts/minutes_v1/daily/2025-11-13/run=20251207T053318Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-13
[live] scoring FPTS for 2025-11-13 using production bundle (minutes_run=20251207T053318Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-13/run=20251207T053318Z/features.parquet
[rates-live] Found 105 players, 6 teams
[rates-live] Season aggregates: 89 players
[rates-live] Tracking features: 89 players
[rates-live] Vacancy features: 3 teams
[rates-live] Team context: 3 teams
[rates-live] Wrote 105 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-13/run=20251207T053318Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-13 run=20251207T053318Z: wrote 105 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-13/run=20251207T053318Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-13 run=20251207T053318Z: wrote 105 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-13/run=20251207T053318Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-13 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053318Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7133ed6954f0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053318Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053318Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-13 minutes source=projections_minutes_v1 run=20251207T053318Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-13/minutes.parquet
[sim_v2] 2025-11-13 rates run=20251207T053318Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-13/run=20251207T053318Z/rates.parquet
[sim_v2] 2025-11-13 rows=68 dk_fpts_mean (rates) min/med/max=0.00/16.98/49.39
[sim_v2] game_scripts: 3 games, using minutes quantile sampling
[sim_v2] 2025-11-13 dk_fpts_world min/med/max=-0.93/17.95/181.18 mean=20.60 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-13/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-13/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-13/run=20251207T053318Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19440771169774831, 'row_count': 105}

Rates sanity check passed!

===========================================
[backfill] [15/30] Processing 2025-11-14
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-14->2025-11-14 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-14 to 2025-11-14 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-14: 1946 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-14/injuries.parquet
[injuries] window=2025-11-14->2025-11-14 bronze_partitions=1 bronze_rows=1946 silver_rows=91 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-14 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-14/daily_lineups_raw.parquet and silver_rows=314 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-14/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-14: 4 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-14/odds.parquet
[odds] wrote 9 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 314 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-14: 315 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-14/roster.parquet
[roster] wrote 315 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 484,271)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-14 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053345Z wrote 315 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-14/run=20251207T053345Z/features.parquet
[live] Scoring model with run_id=20251207T053345Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-14: wrote 315 rows to artifacts/minutes_v1/daily/2025-11-14/run=20251207T053345Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-14
[live] scoring FPTS for 2025-11-14 using production bundle (minutes_run=20251207T053345Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-14/run=20251207T053345Z/features.parquet
[rates-live] Found 315 players, 18 teams
[rates-live] Season aggregates: 269 players
[rates-live] Tracking features: 275 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 315 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-14/run=20251207T053345Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-14 run=20251207T053345Z: wrote 315 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-14/run=20251207T053345Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-14 run=20251207T053345Z: wrote 315 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-14/run=20251207T053345Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-14 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053345Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7fb19a4c2600>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053345Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053345Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-14 minutes source=projections_minutes_v1 run=20251207T053345Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-14/minutes.parquet
[sim_v2] 2025-11-14 rates run=20251207T053345Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-14/run=20251207T053345Z/rates.parquet
[sim_v2] 2025-11-14 rows=230 dk_fpts_mean (rates) min/med/max=0.00/16.26/50.49
[sim_v2] game_scripts: 9 games, using minutes quantile sampling
[sim_v2] 2025-11-14 dk_fpts_world min/med/max=0.00/16.23/184.88 mean=18.55 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-14/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-14/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-14/run=20251207T053345Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.2067249045801842, 'row_count': 315}

Rates sanity check passed!

===========================================
[backfill] [16/30] Processing 2025-11-15
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-15->2025-11-15 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-15 to 2025-11-15 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-15: 1087 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-15/injuries.parquet
[injuries] window=2025-11-15->2025-11-15 bronze_partitions=1 bronze_rows=1087 silver_rows=61 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-15 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-15/daily_lineups_raw.parquet and silver_rows=176 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-15/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-15: 4 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-15/odds.parquet
[odds] wrote 5 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 176 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-15: 176 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-15/roster.parquet
[roster] wrote 176 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 484,447)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-15 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053413Z wrote 176 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-15/run=20251207T053413Z/features.parquet
[live] Scoring model with run_id=20251207T053413Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-15: wrote 176 rows to artifacts/minutes_v1/daily/2025-11-15/run=20251207T053413Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-15
[live] scoring FPTS for 2025-11-15 using production bundle (minutes_run=20251207T053413Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-15/run=20251207T053413Z/features.parquet
[rates-live] Found 176 players, 10 teams
[rates-live] Season aggregates: 143 players
[rates-live] Tracking features: 147 players
[rates-live] Vacancy features: 4 teams
[rates-live] Team context: 4 teams
[rates-live] Wrote 176 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-15/run=20251207T053413Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-15 run=20251207T053413Z: wrote 176 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-15/run=20251207T053413Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-15 run=20251207T053413Z: wrote 176 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-15/run=20251207T053413Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-15 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053413Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7cb7b6ea74d0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053413Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053413Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-15 minutes source=projections_minutes_v1 run=20251207T053413Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-15/minutes.parquet
[sim_v2] 2025-11-15 rates run=20251207T053413Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-15/run=20251207T053413Z/rates.parquet
[sim_v2] 2025-11-15 rows=121 dk_fpts_mean (rates) min/med/max=0.00/17.53/57.18
[sim_v2] game_scripts: 5 games, using minutes quantile sampling
[sim_v2] 2025-11-15 dk_fpts_world min/med/max=-0.08/17.67/255.67 mean=19.87 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-15/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-15/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-15/run=20251207T053413Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19808802760443672, 'row_count': 176}

Rates sanity check passed!

===========================================
[backfill] [17/30] Processing 2025-11-16
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-16->2025-11-16 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-16 to 2025-11-16 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-16: 1726 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-16/injuries.parquet
[injuries] window=2025-11-16->2025-11-16 bronze_partitions=1 bronze_rows=1726 silver_rows=77 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-16 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-16/daily_lineups_raw.parquet and silver_rows=280 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-16/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-16: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-16/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 280 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-16: 281 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-16/roster.parquet
[roster] wrote 281 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 484,728)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-16 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053448Z wrote 281 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-16/run=20251207T053448Z/features.parquet
[live] Scoring model with run_id=20251207T053448Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-16: wrote 281 rows to artifacts/minutes_v1/daily/2025-11-16/run=20251207T053448Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-16
[live] scoring FPTS for 2025-11-16 using production bundle (minutes_run=20251207T053448Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-16/run=20251207T053448Z/features.parquet
[rates-live] Found 281 players, 16 teams
[rates-live] Season aggregates: 242 players
[rates-live] Tracking features: 247 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 281 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-16/run=20251207T053448Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-16 run=20251207T053448Z: wrote 281 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-16/run=20251207T053448Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-16 run=20251207T053448Z: wrote 281 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-16/run=20251207T053448Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-16 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053448Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7086083a7200>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053448Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053448Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-16 minutes source=projections_minutes_v1 run=20251207T053448Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-16/minutes.parquet
[sim_v2] 2025-11-16 rates run=20251207T053448Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-16/run=20251207T053448Z/rates.parquet
[sim_v2] 2025-11-16 rows=208 dk_fpts_mean (rates) min/med/max=0.00/15.47/51.67
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-16 dk_fpts_world min/med/max=0.00/15.31/200.01 mean=17.82 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-16/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-16/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-16/run=20251207T053448Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.19944624212799011, 'row_count': 281}

Rates sanity check passed!

===========================================
[backfill] [18/30] Processing 2025-11-17
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-17->2025-11-17 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-17 to 2025-11-17 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-17: 1539 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-17/injuries.parquet
[injuries] window=2025-11-17->2025-11-17 bronze_partitions=1 bronze_rows=1539 silver_rows=88 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-17 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-17/daily_lineups_raw.parquet and silver_rows=281 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-17/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-17: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-17/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 281 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-17: 281 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-17/roster.parquet
[roster] wrote 281 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 485,254)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-17 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053517Z wrote 281 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-17/run=20251207T053517Z/features.parquet
[live] Scoring model with run_id=20251207T053517Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-17: wrote 281 rows to artifacts/minutes_v1/daily/2025-11-17/run=20251207T053517Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-17
[live] scoring FPTS for 2025-11-17 using production bundle (minutes_run=20251207T053517Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-17/run=20251207T053517Z/features.parquet
[rates-live] Found 281 players, 16 teams
[rates-live] Season aggregates: 238 players
[rates-live] Tracking features: 242 players
[rates-live] Vacancy features: 4 teams
[rates-live] Team context: 4 teams
[rates-live] Wrote 281 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-17/run=20251207T053517Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-17 run=20251207T053517Z: wrote 281 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-17/run=20251207T053517Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-17 run=20251207T053517Z: wrote 281 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-17/run=20251207T053517Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-17 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053517Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7ccccf3b3290>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053517Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053517Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-17 minutes source=projections_minutes_v1 run=20251207T053517Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-17/minutes.parquet
[sim_v2] 2025-11-17 rates run=20251207T053517Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-17/run=20251207T053517Z/rates.parquet
[sim_v2] 2025-11-17 rows=203 dk_fpts_mean (rates) min/med/max=0.00/16.98/50.43
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-17 dk_fpts_world min/med/max=0.00/16.49/254.63 mean=18.92 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-17/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-17/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-17/run=20251207T053517Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20394490714041674, 'row_count': 281}

Rates sanity check passed!

===========================================
[backfill] [19/30] Processing 2025-11-18
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-18->2025-11-18 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-18 to 2025-11-18 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-18: 1332 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-18/injuries.parquet
[injuries] window=2025-11-18->2025-11-18 bronze_partitions=1 bronze_rows=1332 silver_rows=59 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-18 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-18/daily_lineups_raw.parquet and silver_rows=209 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-18/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-18: 3 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-18/odds.parquet
[odds] wrote 6 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 209 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-18: 210 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-18/roster.parquet
[roster] wrote 210 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 485,464)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-18 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053545Z wrote 210 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-18/run=20251207T053545Z/features.parquet
[live] Scoring model with run_id=20251207T053545Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-18: wrote 210 rows to artifacts/minutes_v1/daily/2025-11-18/run=20251207T053545Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-18
[live] scoring FPTS for 2025-11-18 using production bundle (minutes_run=20251207T053545Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-18/run=20251207T053545Z/features.parquet
[rates-live] Found 210 players, 12 teams
[rates-live] Season aggregates: 180 players
[rates-live] Tracking features: 184 players
[rates-live] Vacancy features: 1 teams
[rates-live] Team context: 1 teams
[rates-live] Wrote 210 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-18/run=20251207T053545Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-18 run=20251207T053545Z: wrote 210 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-18/run=20251207T053545Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-18 run=20251207T053545Z: wrote 210 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-18/run=20251207T053545Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-18 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053545Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x78357c4a9340>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053545Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053545Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-18 minutes source=projections_minutes_v1 run=20251207T053545Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-18/minutes.parquet
[sim_v2] 2025-11-18 rates run=20251207T053545Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-18/run=20251207T053545Z/rates.parquet
[sim_v2] 2025-11-18 rows=152 dk_fpts_mean (rates) min/med/max=0.00/15.00/52.72
[sim_v2] game_scripts: 6 games, using minutes quantile sampling
[sim_v2] 2025-11-18 dk_fpts_world min/med/max=0.00/15.47/349.41 mean=18.23 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-18/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-18/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-18/run=20251207T053545Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20098563641477107, 'row_count': 210}

Rates sanity check passed!

===========================================
[backfill] [20/30] Processing 2025-11-19
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-19->2025-11-19 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-19 to 2025-11-19 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-19: 1894 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-19/injuries.parquet
[injuries] window=2025-11-19->2025-11-19 bronze_partitions=1 bronze_rows=1894 silver_rows=103 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-19 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-19/daily_lineups_raw.parquet and silver_rows=316 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-19/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-19: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-19/odds.parquet
[odds] wrote 9 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 316 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-19: 317 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-19/roster.parquet
[roster] wrote 317 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 485,781)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-19 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053615Z wrote 317 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-19/run=20251207T053615Z/features.parquet
[live] Scoring model with run_id=20251207T053615Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-19: wrote 317 rows to artifacts/minutes_v1/daily/2025-11-19/run=20251207T053615Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-19
[live] scoring FPTS for 2025-11-19 using production bundle (minutes_run=20251207T053615Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-19/run=20251207T053615Z/features.parquet
[rates-live] Found 317 players, 18 teams
[rates-live] Season aggregates: 266 players
[rates-live] Tracking features: 270 players
[rates-live] Vacancy features: 2 teams
[rates-live] Team context: 2 teams
[rates-live] Wrote 317 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-19/run=20251207T053615Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-19 run=20251207T053615Z: wrote 317 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-19/run=20251207T053615Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-19 run=20251207T053615Z: wrote 317 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-19/run=20251207T053615Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-19 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053615Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7dbd05aa6f00>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053615Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053615Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-19 minutes source=projections_minutes_v1 run=20251207T053615Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-19/minutes.parquet
[sim_v2] 2025-11-19 rates run=20251207T053615Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-19/run=20251207T053615Z/rates.parquet
[sim_v2] 2025-11-19 rows=218 dk_fpts_mean (rates) min/med/max=0.00/17.92/51.01
[sim_v2] game_scripts: 9 games, using minutes quantile sampling
[sim_v2] 2025-11-19 dk_fpts_world min/med/max=0.00/17.49/206.16 mean=19.77 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-19/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-19/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-19/run=20251207T053615Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20599106662394998, 'row_count': 317}

Rates sanity check passed!

===========================================
[backfill] [21/30] Processing 2025-11-20
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-20->2025-11-20 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-20 to 2025-11-20 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-20: 948 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-20/injuries.parquet
[injuries] window=2025-11-20->2025-11-20 bronze_partitions=1 bronze_rows=948 silver_rows=42 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-20 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-20/daily_lineups_raw.parquet and silver_rows=140 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-20/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-20: 1 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-20/odds.parquet
[odds] wrote 4 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 140 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-20: 140 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-20/roster.parquet
[roster] wrote 140 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 485,921)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-20 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
[minutes-live] run=20251207T053644Z wrote 140 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-20/run=20251207T053644Z/features.parquet
[live] Scoring model with run_id=20251207T053644Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-20: wrote 140 rows to artifacts/minutes_v1/daily/2025-11-20/run=20251207T053644Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-20
[live] scoring FPTS for 2025-11-20 using production bundle (minutes_run=20251207T053644Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-20/run=20251207T053644Z/features.parquet
[rates-live] Found 140 players, 8 teams
[rates-live] Season aggregates: 126 players
[rates-live] Tracking features: 129 players
[rates-live] Vacancy features: 2 teams
[rates-live] Team context: 2 teams
[rates-live] Wrote 140 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-20/run=20251207T053644Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-20 run=20251207T053644Z: wrote 140 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-20/run=20251207T053644Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-20 run=20251207T053644Z: wrote 140 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-20/run=20251207T053644Z/fpts.parquet
terminate called without an active exception
[live] warning: FPTS scoring failed; continuing without FPTS outputs.
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-20 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053644Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7473eb087170>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053644Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053644Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-20 minutes source=projections_minutes_v1 run=20251207T053644Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-20/minutes.parquet
[sim_v2] 2025-11-20 rates run=20251207T053644Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-20/run=20251207T053644Z/rates.parquet
[sim_v2] 2025-11-20 rows=101 dk_fpts_mean (rates) min/med/max=0.00/15.66/46.62
[sim_v2] game_scripts: 4 games, using minutes quantile sampling
[sim_v2] 2025-11-20 dk_fpts_world min/med/max=0.00/15.46/201.63 mean=17.99 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-20/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-20/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-20/run=20251207T053644Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.1952129259512171, 'row_count': 140}

Rates sanity check passed!

===========================================
[backfill] [22/30] Processing 2025-11-21
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-21->2025-11-21 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-21 to 2025-11-21 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-21: 2111 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-21/injuries.parquet
[injuries] window=2025-11-21->2025-11-21 bronze_partitions=1 bronze_rows=2111 silver_rows=102 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-21 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-21/daily_lineups_raw.parquet and silver_rows=315 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-21/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-21: 1 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-21/odds.parquet
[odds] wrote 9 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 315 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-21: 316 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-21/roster.parquet
[roster] wrote 316 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 486,237)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-21 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053713Z wrote 316 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-21/run=20251207T053713Z/features.parquet
[live] Scoring model with run_id=20251207T053713Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-21: wrote 316 rows to artifacts/minutes_v1/daily/2025-11-21/run=20251207T053713Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-21
[live] scoring FPTS for 2025-11-21 using production bundle (minutes_run=20251207T053713Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-21/run=20251207T053713Z/features.parquet
[rates-live] Found 316 players, 18 teams
[rates-live] Season aggregates: 265 players
[rates-live] Tracking features: 270 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 316 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-21/run=20251207T053713Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-21 run=20251207T053713Z: wrote 316 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-21/run=20251207T053713Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-21 run=20251207T053713Z: wrote 316 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-21/run=20251207T053713Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-21 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053713Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7e3ec9cab2f0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053713Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053713Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-21 minutes source=projections_minutes_v1 run=20251207T053713Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-21/minutes.parquet
[sim_v2] 2025-11-21 rates run=20251207T053713Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-21/run=20251207T053713Z/rates.parquet
[sim_v2] 2025-11-21 rows=223 dk_fpts_mean (rates) min/med/max=0.00/17.06/52.16
[sim_v2] game_scripts: 9 games, using minutes quantile sampling
[sim_v2] 2025-11-21 dk_fpts_world min/med/max=-5.98/16.97/293.45 mean=19.40 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-21/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-21/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-21/run=20251207T053713Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20833864265773308, 'row_count': 316}

Rates sanity check passed!

===========================================
[backfill] [23/30] Processing 2025-11-22
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-22->2025-11-22 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-22 to 2025-11-22 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-22: 1239 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-22/injuries.parquet
[injuries] window=2025-11-22->2025-11-22 bronze_partitions=1 bronze_rows=1239 silver_rows=75 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-22 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-22/daily_lineups_raw.parquet and silver_rows=247 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-22/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-22: 3 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-22/odds.parquet
[odds] wrote 7 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 247 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-22: 247 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-22/roster.parquet
[roster] wrote 247 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 486,484)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-22 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
/home/daniel/projects/projections-v2/projections/cli/build_minutes_live.py:849: FutureWarning: The behavior of array concatenation with empty entries is deprecated. In a future version, this will no longer exclude empty items when determining the result dtype. To retain the old behavior, exclude the empty entries before the concat operation.
  live_slice[col] = live_slice[recomputed].combine_first(live_slice.get(col))
[minutes-live] run=20251207T053742Z wrote 247 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-22/run=20251207T053742Z/features.parquet
[live] Scoring model with run_id=20251207T053742Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-22: wrote 247 rows to artifacts/minutes_v1/daily/2025-11-22/run=20251207T053742Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-22
[live] scoring FPTS for 2025-11-22 using production bundle (minutes_run=20251207T053742Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-22/run=20251207T053742Z/features.parquet
[rates-live] Found 247 players, 14 teams
[rates-live] Season aggregates: 218 players
[rates-live] Tracking features: 221 players
[rates-live] Vacancy features: 5 teams
[rates-live] Team context: 5 teams
[rates-live] Wrote 247 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-22/run=20251207T053742Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-22 run=20251207T053742Z: wrote 247 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-22/run=20251207T053742Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-22 run=20251207T053742Z: wrote 247 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-22/run=20251207T053742Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-22 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053742Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x727a12e9ae10>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053742Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053742Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-22 minutes source=projections_minutes_v1 run=20251207T053742Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-22/minutes.parquet
[sim_v2] 2025-11-22 rates run=20251207T053742Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-22/run=20251207T053742Z/rates.parquet
[sim_v2] 2025-11-22 rows=169 dk_fpts_mean (rates) min/med/max=0.00/17.52/51.70
[sim_v2] game_scripts: 7 games, using minutes quantile sampling
[sim_v2] 2025-11-22 dk_fpts_world min/med/max=-0.21/17.22/243.61 mean=19.52 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-22/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-22/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-22/run=20251207T053742Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.21009699012785055, 'row_count': 247}

Rates sanity check passed!

===========================================
[backfill] [24/30] Processing 2025-11-23
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-23->2025-11-23 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-23 to 2025-11-23 (ET).
[injuries] bronze partition 2025-11-23: 1575 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-23/injuries.parquet
[injuries] window=2025-11-23->2025-11-23 bronze_partitions=1 bronze_rows=1575 silver_rows=89 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-23 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-23/daily_lineups_raw.parquet and silver_rows=277 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-23/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-23: 5 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-23/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 277 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-23: 277 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-23/roster.parquet
[roster] wrote 277 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 486,761)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-23 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053812Z wrote 277 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-23/run=20251207T053812Z/features.parquet
[live] Scoring model with run_id=20251207T053812Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-23: wrote 277 rows to artifacts/minutes_v1/daily/2025-11-23/run=20251207T053812Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-23
[live] scoring FPTS for 2025-11-23 using production bundle (minutes_run=20251207T053812Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-23/run=20251207T053812Z/features.parquet
[rates-live] Found 277 players, 16 teams
[rates-live] Season aggregates: 244 players
[rates-live] Tracking features: 249 players
[rates-live] Vacancy features: 4 teams
[rates-live] Team context: 4 teams
[rates-live] Wrote 277 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-23/run=20251207T053812Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-23 run=20251207T053812Z: wrote 277 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-23/run=20251207T053812Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-23 run=20251207T053812Z: wrote 277 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-23/run=20251207T053812Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-23 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053812Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x70959d4bb320>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053812Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053812Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-23 minutes source=projections_minutes_v1 run=20251207T053812Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-23/minutes.parquet
[sim_v2] 2025-11-23 rates run=20251207T053812Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-23/run=20251207T053812Z/rates.parquet
[sim_v2] 2025-11-23 rows=191 dk_fpts_mean (rates) min/med/max=0.00/16.71/51.79
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-23 dk_fpts_world min/med/max=-0.42/17.13/182.03 mean=19.83 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-23/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-23/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-23/run=20251207T053812Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20313910785693598, 'row_count': 277}

Rates sanity check passed!

===========================================
[backfill] [25/30] Processing 2025-11-24
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-24->2025-11-24 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-24 to 2025-11-24 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-24: 1692 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-24/injuries.parquet
[injuries] window=2025-11-24->2025-11-24 bronze_partitions=1 bronze_rows=1692 silver_rows=109 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-24 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-24/daily_lineups_raw.parquet and silver_rows=352 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-24/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-24: 4 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-24/odds.parquet
[odds] wrote 10 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 352 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-24: 352 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-24/roster.parquet
[roster] wrote 352 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 487,113)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-24 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053839Z wrote 352 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-24/run=20251207T053839Z/features.parquet
[live] Scoring model with run_id=20251207T053839Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-24: wrote 352 rows to artifacts/minutes_v1/daily/2025-11-24/run=20251207T053839Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-24
[live] scoring FPTS for 2025-11-24 using production bundle (minutes_run=20251207T053839Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-24/run=20251207T053839Z/features.parquet
[rates-live] Found 352 players, 20 teams
[rates-live] Season aggregates: 302 players
[rates-live] Tracking features: 306 players
[rates-live] Vacancy features: 7 teams
[rates-live] Team context: 7 teams
[rates-live] Wrote 352 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-24/run=20251207T053839Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-24 run=20251207T053839Z: wrote 352 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-24/run=20251207T053839Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-24 run=20251207T053839Z: wrote 352 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-24/run=20251207T053839Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-24 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053839Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x730d74dbb500>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053839Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053839Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-24 minutes source=projections_minutes_v1 run=20251207T053839Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-24/minutes.parquet
[sim_v2] 2025-11-24 rates run=20251207T053839Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-24/run=20251207T053839Z/rates.parquet
[sim_v2] 2025-11-24 rows=237 dk_fpts_mean (rates) min/med/max=0.00/17.24/55.25
[sim_v2] game_scripts: 10 games, using minutes quantile sampling
[sim_v2] 2025-11-24 dk_fpts_world min/med/max=-0.95/17.52/263.38 mean=19.95 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-24/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-24/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-24/run=20251207T053839Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20207509693789186, 'row_count': 352}

Rates sanity check passed!

===========================================
[backfill] [26/30] Processing 2025-11-25
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-25->2025-11-25 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-25 to 2025-11-25 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-25: 738 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-25/injuries.parquet
[injuries] window=2025-11-25->2025-11-25 bronze_partitions=1 bronze_rows=738 silver_rows=26 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-25 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-25/daily_lineups_raw.parquet and silver_rows=103 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-25/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-25: 1 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-25/odds.parquet
[odds] wrote 3 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 103 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-25: 103 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-25/roster.parquet
[roster] wrote 103 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 487,216)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-25 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053906Z wrote 103 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-25/run=20251207T053906Z/features.parquet
[live] Scoring model with run_id=20251207T053906Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-25: wrote 103 rows to artifacts/minutes_v1/daily/2025-11-25/run=20251207T053906Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-25
[live] scoring FPTS for 2025-11-25 using production bundle (minutes_run=20251207T053906Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-25/run=20251207T053906Z/features.parquet
[rates-live] Found 103 players, 6 teams
[rates-live] Season aggregates: 95 players
[rates-live] Tracking features: 98 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 103 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-25/run=20251207T053906Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-25 run=20251207T053906Z: wrote 103 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-25/run=20251207T053906Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-25 run=20251207T053906Z: wrote 103 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-25/run=20251207T053906Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-25 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053906Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x74b23dfb31d0>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053906Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053906Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-25 minutes source=projections_minutes_v1 run=20251207T053906Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-25/minutes.parquet
[sim_v2] 2025-11-25 rates run=20251207T053906Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-25/run=20251207T053906Z/rates.parquet
[sim_v2] 2025-11-25 rows=77 dk_fpts_mean (rates) min/med/max=0.00/15.90/53.93
[sim_v2] game_scripts: 3 games, using minutes quantile sampling
[sim_v2] 2025-11-25 dk_fpts_world min/med/max=-0.49/15.68/267.79 mean=18.62 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-25/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-25/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-25/run=20251207T053906Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20376312854354775, 'row_count': 103}

Rates sanity check passed!

===========================================
[backfill] [27/30] Processing 2025-11-26
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-26->2025-11-26 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-26 to 2025-11-26 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-26: 1787 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-26/injuries.parquet
[injuries] window=2025-11-26->2025-11-26 bronze_partitions=1 bronze_rows=1787 silver_rows=88 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-26 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-26/daily_lineups_raw.parquet and silver_rows=318 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-26/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-26: 3 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-26/odds.parquet
[odds] wrote 9 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 318 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-26: 318 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-26/roster.parquet
[roster] wrote 318 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 487,534)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-26 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T053932Z wrote 318 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-26/run=20251207T053932Z/features.parquet
[live] Scoring model with run_id=20251207T053932Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-26: wrote 318 rows to artifacts/minutes_v1/daily/2025-11-26/run=20251207T053932Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-26
[live] scoring FPTS for 2025-11-26 using production bundle (minutes_run=20251207T053932Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-26/run=20251207T053932Z/features.parquet
[rates-live] Found 318 players, 18 teams
[rates-live] Season aggregates: 278 players
[rates-live] Tracking features: 281 players
[rates-live] Vacancy features: 0 teams
[rates-live] Team context: 0 teams
[rates-live] Wrote 318 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-26/run=20251207T053932Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-26 run=20251207T053932Z: wrote 318 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-26/run=20251207T053932Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-26 run=20251207T053932Z: wrote 318 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-26/run=20251207T053932Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-26 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T053932Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7bb2feea3170>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T053932Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T053932Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-26 minutes source=projections_minutes_v1 run=20251207T053932Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-26/minutes.parquet
[sim_v2] 2025-11-26 rates run=20251207T053932Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-26/run=20251207T053932Z/rates.parquet
[sim_v2] 2025-11-26 rows=228 dk_fpts_mean (rates) min/med/max=0.00/16.10/50.96
[sim_v2] game_scripts: 9 games, using minutes quantile sampling
[sim_v2] 2025-11-26 dk_fpts_world min/med/max=-0.23/16.31/204.73 mean=18.71 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-26/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-26/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-26/run=20251207T053932Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.20755336374683897, 'row_count': 318}

Rates sanity check passed!

===========================================
[backfill] [28/30] Processing 2025-11-27
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-27->2025-11-27 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-27 to 2025-11-27 (ET).
 Traceback (most recent call last) 
 /home/daniel/projects/projections-v2/projections/cli/live_pipeline.py:108 in 
 run                                                                          
                                                                              
   105                                                                       
   106    if injuries:                                                       
   107       _echo_stage("running injuries ETL")                            
  108       injuries_etl.main(                                             
   109          injuries_json=None,                                        
   110          schedule=schedule,                                         
   111          use_scraper=True,                                          
                                                                              
  locals  
              data_root = PosixPath('/home/daniel/projections-data')        
                    end = datetime.datetime(2025, 11, 27, 0, 0)             
                end_day = Timestamp('2025-11-27 00:00:00')                  
                 end_dt = datetime.datetime(2025, 11, 27, 0, 0)             
               injuries = True                                              
  injury_player_timeout = 10.0                                              
         injury_timeout = 15.0                                              
                lineups = True                                              
            lineups_dir = None                                              
        lineups_timeout = 10.0                                              
                  month = 12                                                
            month_value = 12                                                
                   odds = True                                              
           odds_timeout = 10.0                                              
                 roster = []                                                
         roster_timeout = 10.0                                              
             run_roster = True                                              
               schedule = [                                                 
                                                                           
                          '/home/daniel/projections-data/silver/schedule/  
                          ]                                                 
       schedule_timeout = 10.0                                              
                 season = 2025                                              
           season_value = 2025                                              
                  start = datetime.datetime(2025, 11, 27, 0, 0)             
              start_day = Timestamp('2025-11-27 00:00:00')                  
               start_dt = datetime.datetime(2025, 11, 27, 0, 0)             
  
                                                                              
 /home/daniel/projects/projections-v2/projections/etl/injuries.py:302 in main 
                                                                              
   299          end=end_day,                                               
   300          timeout=injury_timeout,                                    
   301       )                                                              
  302       schedule_df = load_schedule_data(schedule, start_day, end_day, 
   303       resolver = TeamResolver(schedule_df)                           
   304       player_resolver = _build_player_resolver(scraper_timeout)      
   305                                                                        
                                                                              
  locals  
        bronze_out = None                                                   
       bronze_root = None                                                   
         data_root = PosixPath('/home/daniel/projections-data')             
               end = datetime.datetime(2025, 11, 27, 0, 0)                  
           end_day = Timestamp('2025-11-27 00:00:00')                       
     injuries_json = None                                                   
    injury_timeout = 15.0                                                   
             month = 12                                                     
           records = [                                                      
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Detroit Pistons',                     
                           'player_name': 'Jones, Isaac',                 
                           'current_status': 'Out',                       
                           'reason': 'G League - On Assignment'           
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Detroit Pistons',                     
                           'player_name': 'Klintman, Bobi',               
                           'current_status': 'Out',                       
                           'reason': 'Injury/Illness - Left Ankle;        
                     Sprain'                                                
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Detroit Pistons',                     
                           'player_name': 'Moore Jr., Wendell',           
                           'current_status': 'Out',                       
                           'reason': 'G League - Two-Way Injury/Illness   
                     - Right Hip;'                                          
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Detroit Pistons',                     
                           'player_name': 'Sasser, Marcus',               
                           'current_status': 'Out',                       
                           'reason': 'Impingement'                        
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Detroit Pistons',                     
                           'player_name': 'Smith, Tolu',                  
                           'current_status': 'Out',                       
                           'reason': 'G League - Two-Way'                 
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Boston Celtics',                      
                           'player_name': 'Harper Jr., Ron',              
                           'current_status': 'Available',                 
                           'reason': 'G League - Two-Way'                 
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Boston Celtics',                      
                           'player_name': 'Queta, Neemias',               
                           'current_status': 'Out',                       
                           'reason': 'Injury/Illness - Left Ankle;        
                     Sprain'                                                
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Boston Celtics',                      
                           'player_name': 'Shulga, Max',                  
                           'current_status': 'Available',                 
                           'reason': 'G League - Two-Way'                 
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '05:00 (ET)',                  
                           'matchup': 'DET@BOS',                          
                           'team': 'Boston Celtics',                      
                           'player_name': 'Tatum, Jayson',                
                           'current_status': 'Out',                       
                           'reason': 'Injury/Illness - Right Achilles;    
                     Repair'                                                
                        },                                                 
                        {                                                  
                           'report_time': '2025-11-26T23:30:00-05:00',    
                           'report_url':                                  
                     'https://ak-static.cms.nba.com/referee/injury/Injury  
                           'game_date': '2025-11-26',                     
                           'game_time_et': '07:00 (ET)',                  
                           'matchup': 'NYK@CHA',                          
                           'team': 'New York Knicks',                     
                           'player_name': 'Anunoby, OG',                  
                           'current_status': 'Out',                       
                           'reason': 'Injury/Illness - Left Hamstring;    
                     Strain'                                                
                        },                                                 
                        ... +845                                           
                     ]                                                      
      rows_written = 0                                                      
            run_ts = '2025-12-07T05:39:50.927472+00:00'                     
          schedule = [                                                      
                                                                           
                     '/home/daniel/projections-data/silver/schedule/seaso  
                     ]                                                      
  schedule_timeout = 10.0                                                   
   scraper_timeout = 10.0                                                   
            season = 2025                                                   
        silver_out = None                                                   
             start = datetime.datetime(2025, 11, 27, 0, 0)                  
         start_day = Timestamp('2025-11-27 00:00:00')                       
       target_date = '2025-11-27'                                           
       use_scraper = True                                                   
  
                                                                              
 /home/daniel/projects/projections-v2/projections/etl/common.py:209 in        
 load_schedule_data                                                           
                                                                              
   206       mask |= (local_dates >= start) & (local_dates <= end)          
   207    normalized = normalized.loc[mask].copy()                           
   208    if normalized.empty:                                               
  209       raise RuntimeError("Schedule filter removed all rows for reque 
   210    return _dedupe(normalized)                                         
   211                                                                        
   212                                                                        
                                                                              
  locals  
          api_df =    game_id        game_code   season  ... arena_name    
                   arena_city arena_state                                   
                   0  22500061  20251126/NYKCHA  2025-26  ...       None    
                   None        None                                         
                   1  22500062  20251126/MILMIA  2025-26  ...       None    
                   None        None                                         
                   2  22500063  20251126/INDTOR  2025-26  ...       None    
                   None        None                                         
                   3  22500064  20251126/MINOKC  2025-26  ...       None    
                   None        None                                         
                   4  22500065  20251126/MEMNOP  2025-26  ...       None    
                   None        None                                         
                   5  22500066  20251126/HOUGSW  2025-26  ...       None    
                   None        None                                         
                   6  22500067  20251126/SASPOR  2025-26  ...       None    
                   None        None                                         
                   7  22500068  20251126/PHXSAC  2025-26  ...       None    
                   None        None                                         
                                                                            
                   [8 rows x 19 columns]                                    
              df =      game_id        game_code  ... arena_state          
                   tip_local_ts                                             
                   0    22500309  20251201/ATLDET  ...        None          
                   2025-12-01 19:00:00                                      
                   1    22500310  20251201/CLEIND  ...        None          
                   2025-12-01 19:00:00                                      
                   2    22500311  20251201/MILWAS  ...        None          
                   2025-12-01 19:00:00                                      
                   3    22500312  20251201/CHABKN  ...        None          
                   2025-12-01 19:30:00                                      
                   4    22500313  20251201/LACMIA  ...        None          
                   2025-12-01 19:30:00                                      
                   ..        ...              ...  ...         ...          
                   ...                                                      
                   162  22500466  20251231/NOPCHI  ...        None          
                   2025-12-31 19:00:00                                      
                   163  22500467  20251231/NYKSAS  ...        None          
                   2025-12-31 19:00:00                                      
                   164  22500468  20251231/DENTOR  ...        None          
                   2025-12-31 19:30:00                                      
                   165  22500469  20251231/WASMIL  ...        None          
                   2025-12-31 20:00:00                                      
                   166  22500470  20251231/POROKC  ...        None          
                   2025-12-31 20:00:00                                      
                                                                            
                   [167 rows x 20 columns]                                  
             end = Timestamp('2025-11-27 00:00:00')                         
      game_dates = 0   2025-11-26                                           
                   1   2025-11-26                                           
                   2   2025-11-26                                           
                   3   2025-11-26                                           
                   4   2025-11-26                                           
                   5   2025-11-26                                           
                   6   2025-11-26                                           
                   7   2025-11-26                                           
                   Name: game_date, dtype: datetime64[ns]                   
     local_dates = 0   2025-11-26                                           
                   1   2025-11-26                                           
                   2   2025-11-26                                           
                   3   2025-11-26                                           
                   4   2025-11-26                                           
                   5   2025-11-26                                           
                   6   2025-11-26                                           
                   7   2025-11-26                                           
                   Name: local_game_date, dtype: datetime64[ns]             
            mask = 0    False                                               
                   1    False                                               
                   2    False                                               
                   3    False                                               
                   4    False                                               
                   5    False                                               
                   6    False                                               
                   7    False                                               
                   Name: game_date, dtype: bool                             
      normalized = Empty DataFrame                                          
                   Columns: [game_id, game_code, season, game_date,         
                   tip_day, local_game_date, tip_ts, home_team_id,          
                   home_team_name, home_team_city, home_team_tricode,       
                   away_team_id, away_team_name, away_team_city,            
                   away_team_tricode, arena_id, arena_name, arena_city,     
                   arena_state, tip_local_ts]                               
                   Index: []                                                
  schedule_paths = [                                                        
                                                                           
                   '/home/daniel/projections-data/silver/schedule/season=  
                   ]                                                        
        slice_df = Empty DataFrame                                          
                   Columns: [game_id, game_code, season, game_date,         
                   tip_day, local_game_date, tip_ts, home_team_id,          
                   home_team_name, home_team_city, home_team_tricode,       
                   away_team_id, away_team_name, away_team_city,            
                   away_team_tricode, arena_id, arena_name, arena_city,     
                   arena_state, tip_local_ts]                               
                   Index: []                                                
           start = Timestamp('2025-11-27 00:00:00')                         
         timeout = 10.0                                                     
        tip_days = 0   2025-11-26                                           
                   1   2025-11-26                                           
                   2   2025-11-26                                           
                   3   2025-11-26                                           
                   4   2025-11-26                                           
                   5   2025-11-26                                           
                   6   2025-11-26                                           
                   7   2025-11-26                                           
                   Name: tip_day, dtype: datetime64[ns]                     
  

RuntimeError: Schedule filter removed all rows for requested window.
[backfill] WARNING: Failed for 2025-11-27, continuing...

===========================================
[backfill] [29/30] Processing 2025-11-28
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-28->2025-11-28 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-28 to 2025-11-28 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-28: 2414 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-28/injuries.parquet
[injuries] window=2025-11-28->2025-11-28 bronze_partitions=1 bronze_rows=2414 silver_rows=119 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-28 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-28/daily_lineups_raw.parquet and silver_rows=388 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-28/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] wrote 11 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 388 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-28: 387 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-28/roster.parquet
[roster] wrote 387 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 487,921)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-28 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T054004Z wrote 387 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-28/run=20251207T054004Z/features.parquet
[live] Scoring model with run_id=20251207T054004Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-28: wrote 387 rows to artifacts/minutes_v1/daily/2025-11-28/run=20251207T054004Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-28
[live] scoring FPTS for 2025-11-28 using production bundle (minutes_run=20251207T054004Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-28/run=20251207T054004Z/features.parquet
[rates-live] Found 387 players, 22 teams
[rates-live] Season aggregates: 347 players
[rates-live] Tracking features: 354 players
[rates-live] Vacancy features: 10 teams
[rates-live] Team context: 10 teams
[rates-live] Wrote 387 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-28/run=20251207T054004Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-28 run=20251207T054004Z: wrote 387 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-28/run=20251207T054004Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-28 run=20251207T054004Z: wrote 387 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-28/run=20251207T054004Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-28 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T054004Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x7f6d2a9b5490>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T054004Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T054004Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-28 minutes source=projections_minutes_v1 run=20251207T054004Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-28/minutes.parquet
[sim_v2] 2025-11-28 rates run=20251207T054004Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-28/run=20251207T054004Z/rates.parquet
[sim_v2] 2025-11-28 rows=288 dk_fpts_mean (rates) min/med/max=0.00/15.39/53.77
[sim_v2] game_scripts: 11 games, using minutes quantile sampling
[sim_v2] 2025-11-28 dk_fpts_world min/med/max=-0.06/15.81/199.74 mean=18.45 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-28/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-28/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-28/run=20251207T054004Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.1997926297338482, 'row_count': 387}

Rates sanity check passed!

===========================================
[backfill] [30/30] Processing 2025-11-29
===========================================
[live] Schedule check disabled or failed; proceeding unconditionally.
[live] Step 1: Scraping live data...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] window=2025-11-29->2025-11-29 season=2025 month=12 root=/home/daniel/projections-data
[live] running injuries ETL
[injuries] scraping NBA reports from 2025-11-29 to 2025-11-29 (ET).
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:145: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  combined = pd.concat([latest, placeholder_df], ignore_index=True, sort=False)
/home/daniel/projects/projections-v2/projections/minutes_v1/snapshots.py:146: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  combined["snapshot_missing"] = combined["snapshot_missing"].fillna(0).astype(int)
[injuries] bronze partition 2025-11-29: 1215 rows -> /home/daniel/projections-data/bronze/injuries_raw/season=2025/date=2025-11-29/injuries.parquet
[injuries] window=2025-11-29->2025-11-29 bronze_partitions=1 bronze_rows=1215 silver_rows=100 -> /home/daniel/projections-data/silver/injuries_snapshot/season=2025/month=12/injuries_snapshot.parquet
[live] running daily lineups ETL
[daily_lineups] fetching 2025-11-29 (season=2025)
[daily_lineups] wrote bronze_rows=1 -> /home/daniel/projections-data/bronze/daily_lineups/season=2025/date=2025-11-29/daily_lineups_raw.parquet and silver_rows=280 -> /home/daniel/projections-data/silver/nba_daily_lineups/season=2025/date=2025-11-29/lineups.parquet
[daily_lineups] completed 1 day(s); silver root=/home/daniel/projections-data/silver/nba_daily_lineups
[live] running odds ETL
[odds] bronze partition 2025-11-29: 2 rows -> /home/daniel/projections-data/bronze/odds_raw/season=2025/date=2025-11-29/odds.parquet
[odds] wrote 8 snapshot rows -> /home/daniel/projections-data/silver/odds_snapshot/season=2025/month=12/odds_snapshot.parquet
[live] running roster nightly ETL
[roster] loaded 280 lineup rows from /home/daniel/projections-data/silver/nba_daily_lineups
[roster] bronze partition 2025-11-29: 281 rows -> /home/daniel/projections-data/bronze/roster_nightly_raw/season=2025/date=2025-11-29/roster.parquet
[roster] wrote 281 snapshot rows -> /home/daniel/projections-data/silver/roster_nightly/season=2025/month=12/roster.parquet (total 488,447)
[live] live pipeline completed successfully
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[live] Building features as of 2025-11-29 23:30:00...
[live] Backfill mode enabled - relaxed roster age checks
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
/home/daniel/projects/projections-v2/.venv/lib/python3.12/site-packages/numpy/lib/_nanfunctions_impl.py:2015: RuntimeWarning: Degrees of freedom <= 0 for slice.
  var = nanvar(a, axis=axis, dtype=dtype, out=out, ddof=ddof,
[minutes-live] run=20251207T054034Z wrote 281 rows to /home/daniel/projections-data/live/features_minutes_v1/2025-11-29/run=20251207T054034Z/features.parquet
[live] Scoring model with run_id=20251207T054034Z...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[upside] Applied upside adjustment for Monte Carlo coverage.
[l2-reconcile] Applying reconciliation with tail clamping.
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[LightGBM] [Warning] min_data_in_leaf is set=64, min_child_samples=20 will be ignored. Current value: min_data_in_leaf=64
[minutes] 2025-11-29: wrote 281 rows to artifacts/minutes_v1/daily/2025-11-29/run=20251207T054034Z/minutes.parquet
[live] Copied minutes to /home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-29
[live] scoring FPTS for 2025-11-29 using production bundle (minutes_run=20251207T054034Z)...
[live] Building rates features...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] Loading minutes features from /home/daniel/projections-data/live/features_minutes_v1/2025-11-29/run=20251207T054034Z/features.parquet
[rates-live] Found 281 players, 16 teams
[rates-live] Season aggregates: 247 players
[rates-live] Tracking features: 249 players
[rates-live] Vacancy features: 10 teams
[rates-live] Team context: 10 teams
[rates-live] Wrote 281 rows -> /home/daniel/projections-data/live/features_rates_v1/2025-11-29/run=20251207T054034Z/features.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[rates-live] 2025-11-29 run=20251207T054034Z: wrote 281 rows -> /home/daniel/projections-data/gold/rates_v1_live/2025-11-29/run=20251207T054034Z/rates.parquet
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[fpts-live] 2025-11-29 run=20251207T054034Z: wrote 281 rows to /home/daniel/projections-data/gold/projections_fpts_v1/2025-11-29/run=20251207T054034Z/fpts.parquet
[live] Running sim_v2 worlds + aggregation (profile=baseline, worlds=10000)...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
[sim_v2] live sim run date=2025-11-29 profile=baseline worlds=10000
[sim_v2] override minutes_run_id: profile=healthy_optimal_split_20251205 -> cli=20251207T054034Z
[sim_v2] profile=baseline mean_source=rates config=/home/daniel/projects/projections-v2/config/sim_v2_profiles.json worlds=10000 chunk=200 seed=12345 efficiency=<typer.models.OptionInfo object at 0x775b8feb1790>
[sim_v2] fpts_run_id=fpts_v2_stage0_20251129_062655 rates_run_id=None minutes_run_id=20251207T054034Z use_rates_noise=False split=None use_minutes_noise=True sigma_min=1.0 min_play_prob=0.05
[sim_v2] game_scripts enabled: margin_std=13.4 spread_coef=-0.726
[sim_v2] rates mean: minutes_source=minutes_v1 rates_source=rates_v1_live rates_run_id=latest minutes_run_id=20251207T054034Z noise k=0.65 nu=5.0 dist=student_t
[sim_v2] 2025-11-29 minutes source=projections_minutes_v1 run=20251207T054034Z path=/home/daniel/projections-data/gold/projections_minutes_v1/game_date=2025-11-29/minutes.parquet
[sim_v2] 2025-11-29 rates run=20251207T054034Z path=/home/daniel/projections-data/gold/rates_v1_live/2025-11-29/run=20251207T054034Z/rates.parquet
[sim_v2] 2025-11-29 rows=200 dk_fpts_mean (rates) min/med/max=0.00/16.69/51.30
[sim_v2] game_scripts: 8 games, using minutes quantile sampling
[sim_v2] 2025-11-29 dk_fpts_world min/med/max=-0.56/16.42/189.71 mean=18.97 -> /home/daniel/projections-data/artifacts/sim_v2/worlds_fpts_v2/game_date=2025-11-29/projections.parquet
[sim_v2] copied projections to /home/daniel/projections-data/artifacts/sim_v2/projections/game_date=2025-11-29/projections.parquet
[live] Running health checks...
warning: The `tool.uv.dev-dependencies` field (used in `pyproject.toml`) is deprecated and will be removed in a future release; use `dependency-groups.dev` instead
Checking rates: 
/home/daniel/projections-data/gold/rates_v1_live/2025-11-29/run=20251207T054034Z
/rates.parquet

Metrics: {'nan_rate': np.float64(0.0), 'zero_rate': np.float64(0.0), 
'fga2_per_min_median': 0.1996708906021682, 'row_count': 281}

Rates sanity check passed!

===========================================
[backfill] Complete! Processed 30 days
===========================================

Run accuracy analysis:
  python -m scripts.analyze_accuracy --start 2025-11-01 --end 2025-11-30
